@use 'styles/variables' as *;
@use 'styles/typography';

@import '@fontsource/roboto/300.css';
@import '@fontsource/roboto/400.css'; 
@import '@fontsource/roboto/500.css';
@import '@fontsource/roboto/700.css'; 
@import '@fontsource/roboto/900.css';

.cdk-overlay-backdrop.booking-modal-backdrop {
  z-index: 1000 !important;
  background-color: $color-shadow-backdrop !important;
}

.cdk-overlay-backdrop {
  &.cdk-overlay-transparent-backdrop {
    pointer-events: none !important;
  }
  
  &.mat-datepicker-popup {
    pointer-events: none !important;
  }
}

.cdk-overlay-pane.booking-modal-dialog {
  z-index: 1001 !important;
}

.booking-modal-dialog .mat-mdc-dialog-container {
  background: transparent !important;
  position: relative !important;
}

.cdk-overlay-pane {
  &:not(.booking-modal-dialog) {
    z-index: 1500 !important;
    pointer-events: auto !important;
  }
  
  &:has(.mat-datepicker-popup) {
    z-index: 1500 !important;
    pointer-events: auto !important;
    
    .mat-datepicker-popup,
    .mat-datepicker-content,
    .mat-calendar {
      pointer-events: auto !important;
    }
  }
}

.mat-mdc-select-panel {
  z-index: 1500 !important;
  background: $color-bg-primary !important;
  box-shadow: 0 5px 15px $color-shadow-darkest !important;
}

.mat-datepicker-popup {
  z-index: 1500 !important;
}

.mat-datepicker-content {
  z-index: 1500 !important;
  box-shadow: 0 5px 15px $color-shadow-darkest !important;
  background: $color-bg-primary !important;
}

.mat-calendar {
  z-index: 1500 !important;
}

.mat-calendar-body-cell {
  pointer-events: auto !important;
  position: relative !important;
  z-index: 1 !important;
  
  &:not(.mat-calendar-body-disabled) {
    cursor: pointer !important;
    
    .mat-calendar-body-cell-content {
      pointer-events: auto !important;
      cursor: pointer !important;
      position: relative !important;
      z-index: 2 !important;
    }
  }
}

.mat-calendar-previous-button,
.mat-calendar-next-button,
.mat-calendar-period-button {
  pointer-events: auto !important;
  cursor: pointer !important;
  z-index: 2 !important;
}

.mat-calendar-body,
.mat-calendar-table {
  pointer-events: auto !important;
}

.mat-datepicker-content-container {
  pointer-events: auto !important;
  position: relative !important;
}

.mat-datepicker-popup {
  .mat-calendar {
    background: $color-bg-primary !important;
  }
}

.booking-modal-dialog {
  .mat-mdc-dialog-surface {
    overflow: hidden !important;
  }
  
  .mat-mdc-dialog-container {
    overflow: hidden !important;
  }
}

.cdk-overlay-container {
  position: fixed;
  z-index: 1000;
  pointer-events: none;
  
  * {
    pointer-events: auto;
  }
}

.cdk-overlay-pane {
  pointer-events: auto !important;
}

.mat-datepicker-popup {
  visibility: visible !important;
  display: block !important;
  opacity: 1 !important;
  position: absolute !important;
  pointer-events: auto !important;
}

.mat-datepicker-content {
  visibility: visible !important;
  display: block !important;
  opacity: 1 !important;
  background: $color-bg-primary !important;
  pointer-events: auto !important;
}

.mat-calendar {
  visibility: visible !important;
  display: block !important;
  opacity: 1 !important;
  background: $color-bg-primary !important;
  pointer-events: auto !important;
}

.cdk-overlay-connected-position-bounding-box {
  position: absolute !important;
}

.mat-datepicker-content-container {
  background: $color-bg-primary !important;
  box-shadow: 0 8px 24px $color-shadow-heavy !important;
  border-radius: 8px !important;
  overflow: auto !important;
  max-height: 400px !important;
}

.mat-datepicker-content-container-with-custom-header {
  overflow: auto !important;
  max-height: 400px !important;
}

.mat-calendar {
  font-family: 'Roboto', sans-serif;
  pointer-events: auto !important;
  user-select: none;
  overflow: auto !important;
  max-height: 100% !important;
  
  .mat-calendar-header {
    background: linear-gradient(135deg, $color-primary 0%, $color-accent-hover 100%);
    color: $color-text-white;
    padding: 0.5rem;
    border-radius: 8px 8px 0 0;
    pointer-events: auto !important;
    position: sticky !important;
    top: 0 !important;
    z-index: 10 !important;
  }
  
  .mat-calendar-period-button,
  .mat-calendar-previous-button,
  .mat-calendar-next-button {
    color: $color-text-white !important;
    pointer-events: auto !important;
    cursor: pointer !important;
  }
  
  .mat-calendar-body {
    pointer-events: auto !important;
    overflow: visible !important;
  }
  
  .mat-calendar-content {
    overflow: auto !important;
    pointer-events: auto !important;
  }
  
  .mat-calendar-body-selected {
    background-color: $color-primary !important;
    color: $color-text-white !important;
    pointer-events: auto !important;
  }
  
  .mat-calendar-body-today:not(.mat-calendar-body-selected) {
    border-color: $color-primary !important;
  }
  
  .mat-calendar-body-cell:not(.mat-calendar-body-disabled) {
    pointer-events: auto !important;
    
    &:hover > .mat-calendar-body-cell-content:not(.mat-calendar-body-selected) {
      background-color: $color-primary-shadow-light !important;
    }
    
    &:active > .mat-calendar-body-cell-content:not(.mat-calendar-body-selected) {
      background-color: $color-primary-shadow-medium !important;
    }
  }
}

.mat-calendar-body-label,
.mat-calendar-table {
  pointer-events: auto !important;
}
