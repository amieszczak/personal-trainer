<div class="admin-panel">
  @if (!authService.isAuthenticated()) {
    <div class="login-container">
      <div class="login-card">
        <h1>Admin Login</h1>
        <p class="login-subtitle">Please enter your credentials</p>
        
        <form [formGroup]="loginForm" (ngSubmit)="onLogin()">
          <div class="form-group">
            <label for="email">Email</label>
            <input 
              type="email" 
              id="email" 
              formControlName="email"
              placeholder="Enter your email"
              autocomplete="email"
            />
          </div>
          
          <div class="form-group">
            <label for="password">Password</label>
            <input 
              type="password" 
              id="password" 
              formControlName="password"
              placeholder="Enter password"
              autocomplete="current-password"
            />
          </div>
          
          @if (loginError) {
            <div class="error-message">
              {{ errorMessage || 'Invalid email or password. Please try again.' }}
            </div>
          }
          
          <button 
            type="submit" 
            class="login-button"
            [disabled]="!loginForm.valid || isLoading"
          >
            @if (isLoading) {
              <span>Logging in...</span>
            } @else {
              <span>Login</span>
            }
          </button>
        </form>
      </div>
    </div>
  } @else {
    <div class="admin-content">
      <div class="admin-header">
        <h1>Admin Panel</h1>
        <button class="logout-button" (click)="onLogout()">Logout</button>
      </div>
      
      <div class="admin-body">
        <div class="welcome-message">
          <p>Welcome to the admin panel, <strong>{{ authService.getUserEmail() }}</strong>!</p>
          <p>Role: <span class="role-badge">{{ authService.getUserRole() }}</span></p>
        </div>
        
        <div class="admin-sections">
          <div class="admin-section" (click)="navigateToTransformations()">
            <h2>Manage Transformations</h2>
            <p>Edit and manage client transformations</p>
          </div>
          
          <div class="admin-section">
            <h2>Manage Bookings</h2>
            <p>View and manage training bookings</p>
          </div>
          
          <div class="admin-section">
            <h2>Manage Clients</h2>
            <p>Edit client information</p>
          </div>
        </div>
      </div>
    </div>
  }
</div>
